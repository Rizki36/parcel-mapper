import {
  Accordion,
  AccordionButton,
  AccordionIcon,
  AccordionItem,
  AccordionPanel,
  Box,
  Button,
  Flex,
  Table,
  TableContainer,
  Tbody,
  Td,
  Th,
  Thead,
  Tr,
} from "@chakra-ui/react";
import React from "react";
import { useDeliveryStore } from "../../_providers/DeliveryProviders";
import useStepWithValidation from "../../_hooks/useStepWithValidation";
// import useRequestDirections from "../../_hooks/useRequestDirections";

const Step1 = () => {
  // const { request } = useRequestDirections();
  const { setStep } = useStepWithValidation();
  const { setDirections } = useDeliveryStore((state) => state);

  const { distances, setDistances } = useDeliveryStore((state) => state);

  return (
    <Flex
      justify="center"
      direction="column"
      flex={1}
      overflowY="auto"
      flexWrap="nowrap"
    >
      <Flex columnGap="4px">
        <Button
          flex={1}
          colorScheme={distances.length ? undefined : "teal"}
          size="sm"
          onClick={async () => {
            setDistances([
              [0, 1, 2, 3, 4], // 0
              [1, 0, 5, 6, 7], // 1
              [2, 5, 0, 8, 9], // 2
              [3, 6, 8, 0, 10], // 3
              [4, 7, 9, 10, 0], // 4
            ]);

            setDirections({
              "0-1": {
                routes: [
                  {
                    geometry: {
                      coordinates: [
                        [112.223488, -7.551022],
                        [112.223552, -7.551022],
                        [112.223847, -7.550996],
                        [112.223886, -7.551],
                        [112.224125, -7.551027],
                        [112.224153, -7.551029],
                        [112.22427, -7.551045],
                        [112.224287, -7.551048],
                        [112.22447, -7.551075],
                        [112.224628, -7.551114],
                        [112.224845, -7.551153],
                        [112.225092, -7.551193],
                        [112.225363, -7.551263],
                        [112.225614, -7.551321],
                        [112.225763, -7.55136],
                        [112.225976, -7.551409],
                        [112.226131, -7.551447],
                        [112.227402, -7.551725],
                        [112.227656, -7.551789],
                        [112.227594, -7.551996],
                        [112.227326, -7.552862],
                      ],
                      type: "LineString",
                    },
                    legs: [
                      {
                        steps: [],
                        summary: "",
                        weight: 262.1,
                        duration: 184.9,
                        distance: 594,
                      },
                    ],
                    weight_name: "cyclability",
                    weight: 262.1,
                    duration: 184.9,
                    distance: 594,
                  },
                ],
                waypoints: [
                  {
                    distance: 3.207015726330871,
                    name: "Jalan Dokter Wahidin Sudirohusodo",
                    location: [112.223488, -7.551022],
                  },
                  {
                    distance: 1.5012720015998993,
                    name: "Jalan Pattimura",
                    location: [112.227326, -7.552862],
                  },
                ],
                code: "Ok",
                uuid: "SNZJJ9goyECZ3hNsHo3DAJ0JHpWsSkY1-AB_vx_x8HEODai56TQXuA==",
              },
              "0-2": {
                routes: [
                  {
                    geometry: {
                      coordinates: [
                        [112.223488, -7.551022],
                        [112.223552, -7.551022],
                        [112.223847, -7.550996],
                        [112.223886, -7.551],
                        [112.224125, -7.551027],
                        [112.224153, -7.551029],
                        [112.22427, -7.551045],
                        [112.224287, -7.551048],
                        [112.22447, -7.551075],
                        [112.224628, -7.551114],
                        [112.224845, -7.551153],
                        [112.225092, -7.551193],
                        [112.225363, -7.551263],
                        [112.225614, -7.551321],
                        [112.225763, -7.55136],
                        [112.225976, -7.551409],
                        [112.226131, -7.551447],
                        [112.227402, -7.551725],
                        [112.227656, -7.551789],
                        [112.227594, -7.551996],
                        [112.22681, -7.554525],
                        [112.227319, -7.554704],
                        [112.227547, -7.554784],
                        [112.227611, -7.554806],
                        [112.228192, -7.555078],
                        [112.228301, -7.555139],
                        [112.228272, -7.55525],
                        [112.228183, -7.555553],
                        [112.22804, -7.555516],
                      ],
                      type: "LineString",
                    },
                    legs: [
                      {
                        steps: [],
                        summary: "",
                        weight: 408,
                        duration: 304.9,
                        distance: 1030,
                      },
                    ],
                    weight_name: "cyclability",
                    weight: 408,
                    duration: 304.9,
                    distance: 1030,
                  },
                ],
                waypoints: [
                  {
                    distance: 3.207015726330871,
                    name: "Jalan Dokter Wahidin Sudirohusodo",
                    location: [112.223488, -7.551022],
                  },
                  {
                    distance: 2.521401490373378,
                    name: "Jalan Gubernur Suryo",
                    location: [112.22804, -7.555516],
                  },
                ],
                code: "Ok",
                uuid: "9WGiFpX2J3lYJiCcfK52d8CBqPm6PShkzeaamgqwbOsHkbVknSpIcw==",
              },
              "0-3": {
                routes: [
                  {
                    geometry: {
                      coordinates: [
                        [112.223488, -7.551022],
                        [112.223552, -7.551022],
                        [112.223847, -7.550996],
                        [112.223886, -7.551],
                        [112.224125, -7.551027],
                        [112.224153, -7.551029],
                        [112.22427, -7.551045],
                        [112.224287, -7.551048],
                        [112.22447, -7.551075],
                        [112.224628, -7.551114],
                        [112.224845, -7.551153],
                        [112.225092, -7.551193],
                        [112.225363, -7.551263],
                        [112.225614, -7.551321],
                        [112.225763, -7.55136],
                        [112.225976, -7.551409],
                        [112.226131, -7.551447],
                        [112.227402, -7.551725],
                        [112.227656, -7.551789],
                        [112.227594, -7.551996],
                        [112.22681, -7.554525],
                        [112.227319, -7.554704],
                        [112.227547, -7.554784],
                        [112.227611, -7.554806],
                        [112.228192, -7.555078],
                        [112.228301, -7.555139],
                        [112.228272, -7.55525],
                        [112.228975, -7.555449],
                        [112.2297, -7.555612],
                        [112.229634, -7.555826],
                        [112.229641, -7.555828],
                        [112.229648, -7.55583],
                        [112.229743, -7.555855],
                        [112.229752, -7.555858],
                        [112.229783, -7.555867],
                        [112.230516, -7.556026],
                        [112.230958, -7.556101],
                        [112.231524, -7.556167],
                        [112.231652, -7.556184],
                        [112.231747, -7.556195],
                        [112.231746, -7.556269],
                        [112.231733, -7.557032],
                        [112.231732, -7.55706],
                        [112.23173, -7.5573],
                      ],
                      type: "LineString",
                    },
                    legs: [
                      {
                        steps: [],
                        summary: "",
                        weight: 568.7,
                        duration: 445.1,
                        distance: 1525.9,
                      },
                    ],
                    weight_name: "cyclability",
                    weight: 568.7,
                    duration: 445.1,
                    distance: 1525.9,
                  },
                ],
                waypoints: [
                  {
                    distance: 3.207015726330871,
                    name: "Jalan Dokter Wahidin Sudirohusodo",
                    location: [112.223488, -7.551022],
                  },
                  {
                    distance: 2.096758526498688,
                    name: "Jalan Arief Rahman Hakim",
                    location: [112.23173, -7.5573],
                  },
                ],
                code: "Ok",
                uuid: "ej_xNoSTBU35TiGKqUc95g0-Y6Eos0pj0_tswERwsLIvqCM3vdby0g==",
              },
              "0-4": {
                routes: [
                  {
                    geometry: {
                      coordinates: [
                        [112.223488, -7.551022],
                        [112.223552, -7.551022],
                        [112.223847, -7.550996],
                        [112.223886, -7.551],
                        [112.224125, -7.551027],
                        [112.224153, -7.551029],
                        [112.22427, -7.551045],
                        [112.224287, -7.551048],
                        [112.22447, -7.551075],
                        [112.224628, -7.551114],
                        [112.224845, -7.551153],
                        [112.225092, -7.551193],
                        [112.225363, -7.551263],
                        [112.225614, -7.551321],
                        [112.225763, -7.55136],
                        [112.225976, -7.551409],
                        [112.226131, -7.551447],
                        [112.227402, -7.551725],
                        [112.227656, -7.551789],
                        [112.227696, -7.551634],
                        [112.227917, -7.550725],
                        [112.228115, -7.549956],
                        [112.228227, -7.54938],
                        [112.228232, -7.549356],
                        [112.228266, -7.54919],
                        [112.228449, -7.548401],
                      ],
                      type: "LineString",
                    },
                    legs: [
                      {
                        steps: [],
                        summary: "",
                        weight: 362.7,
                        duration: 251.8,
                        distance: 856.2,
                      },
                    ],
                    weight_name: "cyclability",
                    weight: 362.7,
                    duration: 251.8,
                    distance: 856.2,
                  },
                ],
                waypoints: [
                  {
                    distance: 3.207015726330871,
                    name: "Jalan Dokter Wahidin Sudirohusodo",
                    location: [112.223488, -7.551022],
                  },
                  {
                    distance: 0.11036839159194019,
                    name: "Jalan Kusuma Bangsa",
                    location: [112.228449, -7.548401],
                  },
                ],
                code: "Ok",
                uuid: "rgzQair5quXFjn1VJ6zWfWutRYj4-vUopk-KPQxPPnHTX_fo-1sjaQ==",
              },
              "0-5": {
                routes: [
                  {
                    geometry: {
                      coordinates: [
                        [112.223488, -7.551022],
                        [112.223552, -7.551022],
                        [112.223847, -7.550996],
                        [112.223886, -7.551],
                        [112.224125, -7.551027],
                        [112.224153, -7.551029],
                        [112.22427, -7.551045],
                        [112.224287, -7.551048],
                        [112.22447, -7.551075],
                        [112.224628, -7.551114],
                        [112.224845, -7.551153],
                        [112.225092, -7.551193],
                        [112.225363, -7.551263],
                        [112.225614, -7.551321],
                        [112.225763, -7.55136],
                        [112.225976, -7.551409],
                        [112.226131, -7.551447],
                        [112.227402, -7.551725],
                        [112.227656, -7.551789],
                        [112.227817, -7.55182],
                        [112.227983, -7.551866],
                        [112.228075, -7.551889],
                        [112.228679, -7.552035],
                        [112.22908, -7.552132],
                        [112.230503, -7.552485],
                        [112.231613, -7.552741],
                        [112.231804, -7.552784],
                        [112.23219, -7.552906],
                        [112.232304, -7.55292],
                        [112.232597, -7.553004],
                        [112.232762, -7.552389],
                        [112.232776, -7.552371],
                        [112.232796, -7.552369],
                        [112.233137, -7.552414],
                        [112.233135, -7.552441],
                        [112.234005, -7.552573],
                        [112.234021, -7.552574],
                        [112.234038, -7.552571],
                        [112.234056, -7.552562],
                        [112.234067, -7.552543],
                        [112.234092, -7.552068],
                        [112.234159, -7.551565],
                        [112.23484, -7.551725],
                        [112.235749, -7.551984],
                        [112.235808, -7.551654],
                        [112.235818, -7.551586],
                        [112.235878, -7.551306],
                        [112.235886, -7.551258],
                        [112.235929, -7.551012],
                        [112.235956, -7.550828],
                        [112.236028, -7.550451],
                      ],
                      type: "LineString",
                    },
                    legs: [
                      {
                        steps: [],
                        summary: "",
                        weight: 628.8,
                        duration: 484.2,
                        distance: 1716.8,
                      },
                    ],
                    weight_name: "cyclability",
                    weight: 628.8,
                    duration: 484.2,
                    distance: 1716.8,
                  },
                ],
                waypoints: [
                  {
                    distance: 3.207015726330871,
                    name: "Jalan Dokter Wahidin Sudirohusodo",
                    location: [112.223488, -7.551022],
                  },
                  {
                    distance: 7.749068057612644,
                    name: "Jalan Kyai Haji Wahid Hasyim",
                    location: [112.236028, -7.550451],
                  },
                ],
                code: "Ok",
                uuid: "H0bHmCmu-0VJjl-MX0sav2PK6tf4o35EwC0lqyJQnHRxI0GSW1oUaA==",
              },
              "1-2": {
                routes: [
                  {
                    geometry: {
                      coordinates: [
                        [112.227326, -7.552862],
                        [112.22681, -7.554525],
                        [112.227319, -7.554704],
                        [112.227547, -7.554784],
                        [112.227611, -7.554806],
                        [112.228192, -7.555078],
                        [112.228301, -7.555139],
                        [112.228272, -7.55525],
                        [112.228183, -7.555553],
                        [112.22804, -7.555516],
                      ],
                      type: "LineString",
                    },
                    legs: [
                      {
                        steps: [],
                        summary: "",
                        weight: 145.9,
                        duration: 120,
                        distance: 436,
                      },
                    ],
                    weight_name: "cyclability",
                    weight: 145.9,
                    duration: 120,
                    distance: 436,
                  },
                ],
                waypoints: [
                  {
                    distance: 1.5012720015998993,
                    name: "Jalan Pattimura",
                    location: [112.227326, -7.552862],
                  },
                  {
                    distance: 2.521401490373378,
                    name: "Jalan Gubernur Suryo",
                    location: [112.22804, -7.555516],
                  },
                ],
                code: "Ok",
                uuid: "cFu_mTM-p_uvQ4W6y92olGQRi99HJCEQyle-dJiSN0p1thu-A63HtQ==",
              },
              "1-3": {
                routes: [
                  {
                    geometry: {
                      coordinates: [
                        [112.227326, -7.552862],
                        [112.22681, -7.554525],
                        [112.227319, -7.554704],
                        [112.227547, -7.554784],
                        [112.227611, -7.554806],
                        [112.228192, -7.555078],
                        [112.228301, -7.555139],
                        [112.228272, -7.55525],
                        [112.228975, -7.555449],
                        [112.2297, -7.555612],
                        [112.229634, -7.555826],
                        [112.229641, -7.555828],
                        [112.229648, -7.55583],
                        [112.229743, -7.555855],
                        [112.229752, -7.555858],
                        [112.229783, -7.555867],
                        [112.230516, -7.556026],
                        [112.230958, -7.556101],
                        [112.231524, -7.556167],
                        [112.231652, -7.556184],
                        [112.231747, -7.556195],
                        [112.231746, -7.556269],
                        [112.231733, -7.557032],
                        [112.231732, -7.55706],
                        [112.23173, -7.5573],
                      ],
                      type: "LineString",
                    },
                    legs: [
                      {
                        steps: [],
                        summary: "",
                        weight: 306.6,
                        duration: 260.2,
                        distance: 931.9,
                      },
                    ],
                    weight_name: "cyclability",
                    weight: 306.6,
                    duration: 260.2,
                    distance: 931.9,
                  },
                ],
                waypoints: [
                  {
                    distance: 1.5012720015998993,
                    name: "Jalan Pattimura",
                    location: [112.227326, -7.552862],
                  },
                  {
                    distance: 2.096758526498688,
                    name: "Jalan Arief Rahman Hakim",
                    location: [112.23173, -7.5573],
                  },
                ],
                code: "Ok",
                uuid: "Qs_EDMTG17FIKp0v-X9uAZfGu9Xv_FPNYmJHMwnzB1O4UR6Jd8ciPA==",
              },
              "1-4": {
                routes: [
                  {
                    geometry: {
                      coordinates: [
                        [112.227326, -7.552862],
                        [112.227594, -7.551996],
                        [112.227656, -7.551789],
                        [112.227696, -7.551634],
                        [112.227917, -7.550725],
                        [112.228115, -7.549956],
                        [112.228227, -7.54938],
                        [112.228232, -7.549356],
                        [112.228266, -7.54919],
                        [112.228449, -7.548401],
                      ],
                      type: "LineString",
                    },
                    legs: [
                      {
                        steps: [],
                        summary: "",
                        weight: 227.2,
                        duration: 161.1,
                        distance: 511.7,
                      },
                    ],
                    weight_name: "cyclability",
                    weight: 227.2,
                    duration: 161.1,
                    distance: 511.7,
                  },
                ],
                waypoints: [
                  {
                    distance: 1.5012720015998993,
                    name: "Jalan Pattimura",
                    location: [112.227326, -7.552862],
                  },
                  {
                    distance: 0.11036839159194019,
                    name: "Jalan Kusuma Bangsa",
                    location: [112.228449, -7.548401],
                  },
                ],
                code: "Ok",
                uuid: "i_ckawB0F104D6Cx_mm0ghwOwWqx0aKln-85np43Q43dL_bw8R9J5w==",
              },
              "1-5": {
                routes: [
                  {
                    geometry: {
                      coordinates: [
                        [112.227326, -7.552862],
                        [112.227594, -7.551996],
                        [112.227656, -7.551789],
                        [112.227696, -7.551634],
                        [112.227917, -7.550725],
                        [112.228115, -7.549956],
                        [112.228227, -7.54938],
                        [112.228289, -7.5494],
                        [112.228377, -7.549433],
                        [112.228593, -7.549514],
                        [112.229024, -7.549663],
                        [112.229313, -7.549762],
                        [112.229339, -7.549745],
                        [112.229362, -7.549735],
                        [112.229394, -7.549734],
                        [112.229428, -7.549737],
                        [112.229481, -7.549752],
                        [112.230297, -7.549938],
                        [112.23124, -7.550165],
                        [112.231843, -7.550313],
                        [112.231905, -7.550329],
                        [112.231908, -7.550177],
                        [112.232067, -7.55018],
                        [112.23217, -7.550183],
                        [112.23226, -7.550188],
                        [112.232291, -7.550191],
                        [112.232313, -7.550194],
                        [112.232339, -7.5502],
                        [112.232383, -7.550213],
                        [112.232436, -7.55023],
                        [112.232483, -7.550246],
                        [112.232505, -7.550256],
                        [112.232525, -7.55027],
                        [112.232549, -7.550285],
                        [112.232574, -7.550304],
                        [112.232595, -7.550314],
                        [112.232629, -7.550329],
                        [112.232663, -7.550342],
                        [112.232779, -7.550384],
                        [112.232884, -7.550419],
                        [112.232974, -7.550445],
                        [112.233065, -7.550465],
                        [112.233269, -7.550505],
                        [112.233319, -7.550521],
                        [112.23338, -7.550538],
                        [112.233398, -7.550506],
                        [112.233402, -7.550501],
                        [112.233409, -7.550498],
                        [112.23342, -7.550496],
                        [112.233439, -7.550496],
                        [112.233522, -7.550506],
                        [112.233568, -7.550517],
                        [112.233604, -7.550518],
                        [112.233641, -7.550513],
                        [112.233665, -7.550508],
                        [112.233686, -7.550505],
                        [112.23371, -7.550506],
                        [112.233761, -7.550521],
                        [112.234219, -7.550694],
                        [112.234259, -7.550365],
                        [112.234274, -7.550259],
                        [112.234303, -7.550043],
                        [112.234325, -7.549879],
                        [112.234361, -7.549743],
                        [112.234404, -7.549569],
                        [112.234431, -7.549453],
                        [112.234687, -7.549505],
                        [112.234892, -7.549546],
                        [112.235084, -7.549591],
                        [112.235267, -7.5496],
                        [112.235369, -7.549605],
                        [112.235498, -7.549639],
                        [112.235641, -7.549678],
                        [112.235774, -7.549712],
                        [112.235831, -7.54973],
                        [112.236145, -7.54981],
                        [112.236124, -7.549926],
                        [112.236044, -7.550365],
                        [112.236028, -7.550451],
                      ],
                      type: "LineString",
                    },
                    legs: [
                      {
                        steps: [],
                        summary: "",
                        weight: 495.4,
                        duration: 443.7,
                        distance: 1513.1,
                      },
                    ],
                    weight_name: "cyclability",
                    weight: 495.4,
                    duration: 443.7,
                    distance: 1513.1,
                  },
                ],
                waypoints: [
                  {
                    distance: 1.5012720015998993,
                    name: "Jalan Pattimura",
                    location: [112.227326, -7.552862],
                  },
                  {
                    distance: 7.749068057612644,
                    name: "Jalan Kyai Haji Wahid Hasyim",
                    location: [112.236028, -7.550451],
                  },
                ],
                code: "Ok",
                uuid: "zRnO87Be0QBLIyPIw7YyCeETIEtJDqT0uqcZpZHwOJf27MZ1foRLIQ==",
              },
              "2-3": {
                routes: [
                  {
                    geometry: {
                      coordinates: [
                        [112.22804, -7.555516],
                        [112.228183, -7.555553],
                        [112.228878, -7.555695],
                        [112.228909, -7.555703],
                        [112.229618, -7.555822],
                        [112.229634, -7.555826],
                        [112.229641, -7.555828],
                        [112.229648, -7.55583],
                        [112.229743, -7.555855],
                        [112.229752, -7.555858],
                        [112.229783, -7.555867],
                        [112.230516, -7.556026],
                        [112.230958, -7.556101],
                        [112.231524, -7.556167],
                        [112.231652, -7.556184],
                        [112.231747, -7.556195],
                        [112.231746, -7.556269],
                        [112.231733, -7.557032],
                        [112.231732, -7.55706],
                        [112.23173, -7.5573],
                      ],
                      type: "LineString",
                    },
                    legs: [
                      {
                        steps: [],
                        summary: "",
                        weight: 165.5,
                        duration: 133.3,
                        distance: 538.9,
                      },
                    ],
                    weight_name: "cyclability",
                    weight: 165.5,
                    duration: 133.3,
                    distance: 538.9,
                  },
                ],
                waypoints: [
                  {
                    distance: 2.521401490373378,
                    name: "Jalan Gubernur Suryo",
                    location: [112.22804, -7.555516],
                  },
                  {
                    distance: 2.096758526498688,
                    name: "Jalan Arief Rahman Hakim",
                    location: [112.23173, -7.5573],
                  },
                ],
                code: "Ok",
                uuid: "M9GPVg__MvAjUPPp8Rwy4u4EOVqVaWtFUcVAcWu7BGSiVqwHN1Vu8A==",
              },
              "2-4": {
                routes: [
                  {
                    geometry: {
                      coordinates: [
                        [112.22804, -7.555516],
                        [112.227551, -7.555391],
                        [112.227255, -7.555308],
                        [112.226644, -7.555106],
                        [112.22671, -7.554881],
                        [112.22681, -7.554525],
                        [112.227594, -7.551996],
                        [112.227656, -7.551789],
                        [112.227696, -7.551634],
                        [112.227917, -7.550725],
                        [112.228115, -7.549956],
                        [112.228227, -7.54938],
                        [112.228232, -7.549356],
                        [112.228266, -7.54919],
                        [112.228449, -7.548401],
                      ],
                      type: "LineString",
                    },
                    legs: [
                      {
                        steps: [],
                        summary: "",
                        weight: 375.7,
                        duration: 266.2,
                        distance: 933,
                      },
                    ],
                    weight_name: "cyclability",
                    weight: 375.7,
                    duration: 266.2,
                    distance: 933,
                  },
                ],
                waypoints: [
                  {
                    distance: 2.521401490373378,
                    name: "Jalan Gubernur Suryo",
                    location: [112.22804, -7.555516],
                  },
                  {
                    distance: 0.11036839159194019,
                    name: "Jalan Kusuma Bangsa",
                    location: [112.228449, -7.548401],
                  },
                ],
                code: "Ok",
                uuid: "bD4VCzntl8TiqUb5KPIxCY9N-zXWrIqQ9EH-imY-Y3BaQCs64gpluA==",
              },
              "2-5": {
                routes: [
                  {
                    geometry: {
                      coordinates: [
                        [112.22804, -7.555516],
                        [112.228183, -7.555553],
                        [112.228878, -7.555695],
                        [112.228909, -7.555703],
                        [112.229618, -7.555822],
                        [112.229634, -7.555826],
                        [112.229641, -7.555828],
                        [112.229648, -7.55583],
                        [112.229743, -7.555855],
                        [112.229752, -7.555858],
                        [112.229783, -7.555867],
                        [112.230516, -7.556026],
                        [112.230958, -7.556101],
                        [112.231524, -7.556167],
                        [112.231652, -7.556184],
                        [112.231747, -7.556195],
                        [112.231851, -7.5562],
                        [112.232029, -7.556194],
                        [112.232679, -7.556134],
                        [112.234035, -7.556022],
                        [112.235287, -7.555929],
                        [112.235316, -7.555555],
                        [112.235353, -7.55503],
                        [112.235357, -7.554932],
                        [112.235381, -7.554619],
                        [112.235398, -7.554488],
                        [112.235433, -7.554164],
                        [112.235451, -7.55396],
                        [112.235455, -7.553923],
                        [112.235462, -7.55388],
                        [112.235489, -7.553634],
                        [112.23553, -7.553374],
                        [112.235591, -7.553076],
                        [112.235623, -7.552759],
                        [112.235691, -7.552357],
                        [112.235749, -7.551984],
                        [112.235808, -7.551654],
                        [112.235818, -7.551586],
                        [112.235878, -7.551306],
                        [112.235886, -7.551258],
                        [112.235929, -7.551012],
                        [112.235956, -7.550828],
                        [112.236028, -7.550451],
                      ],
                      type: "LineString",
                    },
                    legs: [
                      {
                        steps: [],
                        summary: "",
                        weight: 435.1,
                        duration: 386.8,
                        distance: 1423,
                      },
                    ],
                    weight_name: "cyclability",
                    weight: 435.1,
                    duration: 386.8,
                    distance: 1423,
                  },
                ],
                waypoints: [
                  {
                    distance: 2.521401490373378,
                    name: "Jalan Gubernur Suryo",
                    location: [112.22804, -7.555516],
                  },
                  {
                    distance: 7.749068057612644,
                    name: "Jalan Kyai Haji Wahid Hasyim",
                    location: [112.236028, -7.550451],
                  },
                ],
                code: "Ok",
                uuid: "xA5AgikHou3G0ftrN-wSf5N4cYA0H8Izz14BCq60KQmBC9Usj5lB3Q==",
              },
              "3-4": {
                routes: [
                  {
                    geometry: {
                      coordinates: [
                        [112.23173, -7.5573],
                        [112.231732, -7.55706],
                        [112.232007, -7.557065],
                        [112.232702, -7.557058],
                        [112.232701, -7.556849],
                        [112.232679, -7.556134],
                        [112.232558, -7.555304],
                        [112.232538, -7.555165],
                        [112.232495, -7.554911],
                        [112.232456, -7.554718],
                        [112.232387, -7.554235],
                        [112.232325, -7.553827],
                        [112.23219, -7.552906],
                        [112.231804, -7.552784],
                        [112.231845, -7.55245],
                        [112.23188, -7.551496],
                        [112.231897, -7.551117],
                        [112.231906, -7.551034],
                        [112.231913, -7.550952],
                        [112.231911, -7.550735],
                        [112.231905, -7.550329],
                        [112.231843, -7.550313],
                        [112.23124, -7.550165],
                        [112.230297, -7.549938],
                        [112.229481, -7.549752],
                        [112.229428, -7.549737],
                        [112.229394, -7.549734],
                        [112.229362, -7.549735],
                        [112.229339, -7.549745],
                        [112.229313, -7.549762],
                        [112.229024, -7.549663],
                        [112.228593, -7.549514],
                        [112.228377, -7.549433],
                        [112.228289, -7.5494],
                        [112.228227, -7.54938],
                        [112.228232, -7.549356],
                        [112.228266, -7.54919],
                        [112.228449, -7.548401],
                      ],
                      type: "LineString",
                    },
                    legs: [
                      {
                        steps: [],
                        summary: "",
                        weight: 440.5,
                        duration: 378.3,
                        distance: 1450.9,
                      },
                    ],
                    weight_name: "cyclability",
                    weight: 440.5,
                    duration: 378.3,
                    distance: 1450.9,
                  },
                ],
                waypoints: [
                  {
                    distance: 2.096758526498688,
                    name: "Jalan Arief Rahman Hakim",
                    location: [112.23173, -7.5573],
                  },
                  {
                    distance: 0.11036839159194019,
                    name: "Jalan Kusuma Bangsa",
                    location: [112.228449, -7.548401],
                  },
                ],
                code: "Ok",
                uuid: "BFqhg9tRbTTWnvDSBzYLYJMY3Q6Ix0vvZhTBA67eq7XqH8g6_wTqgQ==",
              },
              "3-5": {
                routes: [
                  {
                    geometry: {
                      coordinates: [
                        [112.23173, -7.5573],
                        [112.231732, -7.55706],
                        [112.231733, -7.557032],
                        [112.231746, -7.556269],
                        [112.231747, -7.556195],
                        [112.231851, -7.5562],
                        [112.232029, -7.556194],
                        [112.232679, -7.556134],
                        [112.234035, -7.556022],
                        [112.235287, -7.555929],
                        [112.235316, -7.555555],
                        [112.235353, -7.55503],
                        [112.235357, -7.554932],
                        [112.235381, -7.554619],
                        [112.235398, -7.554488],
                        [112.235433, -7.554164],
                        [112.235451, -7.55396],
                        [112.235455, -7.553923],
                        [112.235462, -7.55388],
                        [112.235489, -7.553634],
                        [112.23553, -7.553374],
                        [112.235591, -7.553076],
                        [112.235623, -7.552759],
                        [112.235691, -7.552357],
                        [112.235749, -7.551984],
                        [112.235808, -7.551654],
                        [112.235818, -7.551586],
                        [112.235878, -7.551306],
                        [112.235886, -7.551258],
                        [112.235929, -7.551012],
                        [112.235956, -7.550828],
                        [112.236028, -7.550451],
                      ],
                      type: "LineString",
                    },
                    legs: [
                      {
                        steps: [],
                        summary: "",
                        weight: 350.9,
                        duration: 320.2,
                        distance: 1129.9,
                      },
                    ],
                    weight_name: "cyclability",
                    weight: 350.9,
                    duration: 320.2,
                    distance: 1129.9,
                  },
                ],
                waypoints: [
                  {
                    distance: 2.096758526498688,
                    name: "Jalan Arief Rahman Hakim",
                    location: [112.23173, -7.5573],
                  },
                  {
                    distance: 7.749068057612644,
                    name: "Jalan Kyai Haji Wahid Hasyim",
                    location: [112.236028, -7.550451],
                  },
                ],
                code: "Ok",
                uuid: "2Pfr3VjIaM8Mw0FUWxTTrp37J689nBjdzWFpo6eM7ta84LTXVM8cFw==",
              },
              "4-5": {
                routes: [
                  {
                    geometry: {
                      coordinates: [
                        [112.228449, -7.548401],
                        [112.228449, -7.548401],
                        [112.228516, -7.548237],
                        [112.22855, -7.548171],
                        [112.228587, -7.548101],
                        [112.228625, -7.548039],
                        [112.228685, -7.547945],
                        [112.228734, -7.547875],
                        [112.228972, -7.547979],
                        [112.229148, -7.548051],
                        [112.229297, -7.548116],
                        [112.229382, -7.548152],
                        [112.229425, -7.548177],
                        [112.229455, -7.548195],
                        [112.229542, -7.54827],
                        [112.229621, -7.548334],
                        [112.229772, -7.54845],
                        [112.229815, -7.54849],
                        [112.229887, -7.548552],
                        [112.229946, -7.54858],
                        [112.230089, -7.548638],
                        [112.230679, -7.548877],
                        [112.231451, -7.549189],
                        [112.231663, -7.549276],
                        [112.231728, -7.549309],
                        [112.231798, -7.549345],
                        [112.231859, -7.54938],
                        [112.231968, -7.549455],
                        [112.231961, -7.549533],
                        [112.231944, -7.549663],
                        [112.231931, -7.549836],
                        [112.231908, -7.550177],
                        [112.232067, -7.55018],
                        [112.23217, -7.550183],
                        [112.23226, -7.550188],
                        [112.232291, -7.550191],
                        [112.232313, -7.550194],
                        [112.232339, -7.5502],
                        [112.232383, -7.550213],
                        [112.232436, -7.55023],
                        [112.232483, -7.550246],
                        [112.232505, -7.550256],
                        [112.232525, -7.55027],
                        [112.232549, -7.550285],
                        [112.232574, -7.550304],
                        [112.232595, -7.550314],
                        [112.232629, -7.550329],
                        [112.232663, -7.550342],
                        [112.232779, -7.550384],
                        [112.232884, -7.550419],
                        [112.232974, -7.550445],
                        [112.233065, -7.550465],
                        [112.233269, -7.550505],
                        [112.233319, -7.550521],
                        [112.23338, -7.550538],
                        [112.233398, -7.550506],
                        [112.233402, -7.550501],
                        [112.233409, -7.550498],
                        [112.23342, -7.550496],
                        [112.233439, -7.550496],
                        [112.233522, -7.550506],
                        [112.233568, -7.550517],
                        [112.233604, -7.550518],
                        [112.233641, -7.550513],
                        [112.233665, -7.550508],
                        [112.233686, -7.550505],
                        [112.23371, -7.550506],
                        [112.233761, -7.550521],
                        [112.234219, -7.550694],
                        [112.234259, -7.550365],
                        [112.234274, -7.550259],
                        [112.234303, -7.550043],
                        [112.234325, -7.549879],
                        [112.234361, -7.549743],
                        [112.234404, -7.549569],
                        [112.234431, -7.549453],
                        [112.234687, -7.549505],
                        [112.234892, -7.549546],
                        [112.235084, -7.549591],
                        [112.235267, -7.5496],
                        [112.235369, -7.549605],
                        [112.235498, -7.549639],
                        [112.235641, -7.549678],
                        [112.235774, -7.549712],
                        [112.235831, -7.54973],
                        [112.236145, -7.54981],
                        [112.236124, -7.549926],
                        [112.236044, -7.550365],
                        [112.236028, -7.550451],
                      ],
                      type: "LineString",
                    },
                    legs: [
                      {
                        steps: [],
                        summary: "",
                        weight: 337.6,
                        duration: 329,
                        distance: 1221.9,
                      },
                    ],
                    weight_name: "cyclability",
                    weight: 337.6,
                    duration: 329,
                    distance: 1221.9,
                  },
                ],
                waypoints: [
                  {
                    distance: 0.11036839159194019,
                    name: "Jalan Kusuma Bangsa",
                    location: [112.228449, -7.548401],
                  },
                  {
                    distance: 7.749068057612644,
                    name: "Jalan Kyai Haji Wahid Hasyim",
                    location: [112.236028, -7.550451],
                  },
                ],
                code: "Ok",
                uuid: "AlVwIcUksPLHuzjiWoTCT-ahebexFuvWb3Rsa5pPX1g9MTIvnxTrPQ==",
              },
            });

            // try {
            //   const response = await request();
            //   console.log(response);
            //   console.log(JSON.stringify(response));
            // } catch (error) {
            //   console.log(error);
            // }
          }}
        >
          {distances.length ? "Perbarui Jarak Paket" : "Dapatkan Jarak Paket"}
        </Button>
        {!!distances.length && (
          <Button colorScheme="teal" size="sm" onClick={() => setStep(2)}>
            Lanjut
          </Button>
        )}
      </Flex>

      <Flex
        direction="column"
        mt={5}
        flex={1}
        overflowY="auto"
        flexWrap="nowrap"
        pb={5}
      >
        <Accordion allowMultiple>
          {distances.map((row, rowIndex) => {
            return (
              <AccordionItem key={rowIndex}>
                <h2>
                  <AccordionButton>
                    <Box as="span" flex="1" textAlign="left">
                      {rowIndex === 0 ? "Cabang" : `Paket ${rowIndex}`} ke
                      lainnya
                    </Box>
                    <AccordionIcon />
                  </AccordionButton>
                </h2>
                <AccordionPanel pb={4}>
                  <TableContainer>
                    <Table size="sm">
                      <Thead>
                        <Tr>
                          <Th>Ke</Th>
                          <Th>Jarak</Th>
                        </Tr>
                      </Thead>
                      <Tbody>
                        {row.map((column, columnIndex) => {
                          return (
                            <Tr key={1}>
                              <Td>
                                {columnIndex === 0
                                  ? "Cabang"
                                  : `Paket ${columnIndex}`}
                              </Td>
                              <Td>{column} Km</Td>
                            </Tr>
                          );
                        })}
                      </Tbody>
                    </Table>
                  </TableContainer>
                </AccordionPanel>
              </AccordionItem>
            );
          })}
        </Accordion>
      </Flex>
    </Flex>
  );
};

export default Step1;
